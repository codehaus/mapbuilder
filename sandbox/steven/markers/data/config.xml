<?xml version="1.0" encoding="utf-8" standalone="no"?>
<MapbuilderConfig version="0.2.1" id="simpleTemplate"
  xmlns="http://mapbuilder.sourceforge.net/mapbuilder"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://mapbuilder.sourceforge.net/mapbuilder ../../lib/schemas/config.xsd">
  <models>
    <OwsContext id="mainMap">
  
      <defaultModelUrl>data/context.xml</defaultModelUrl>
      <widgets>
<!--        <GetFeatureInfoPZ id="getFeatureInfo">-->
<!--          <targetModel>featureInfoResponse</targetModel>-->
<!--           <targetContext>mainMap</targetContext>-->
<!--        </GetFeatureInfoPZ>-->
        <MapPaneOL id="mainMapWidget">
          <htmlTagId>mainMapPane</htmlTagId>
          <fixedSize>false</fixedSize>
          <singleTile>false</singleTile>
          <displayOutsideMaxExtent>true</displayOutsideMaxExtent>      

        </MapPaneOL>
        <LayerControl id="layerControl">

          <stylesheet>customlib/widget/LayerControl.xsl</stylesheet>
          <scriptFile>customlib/widget/LayerControl.js</scriptFile>
          <moveUpImage>/images/LayerMoveUpDisable.png</moveUpImage>
          <moveDownImage>/images/LayerMoveDownDisable.png</moveDownImage>
          <deleteImage>/images/LayerRemoveDisable.png</deleteImage>
          <legendImageEnable>/images/LegendEnable.png</legendImageEnable>
          <legendImageDisable>/images/LegendDisable.png</legendImageDisable>
        </LayerControl>
        <!--OverviewMap id="locatorWidget">
          <htmlTagId>locatorMap</htmlTagId>
          <width>180</width>
        </OverviewMap-->
                <MapScaleBar id="scalebar">
          <!--all of these properties are optional-->
          <!--displaySystem>english</displaySystem-->
          <displaySystem>metric</displaySystem>
          <minWidth>100</minWidth>
          <maxWidth>200</maxWidth>
          <divisions>4</divisions>
          <subdivisions>2</subdivisions>
          <showMinorMeasures>false</showMinorMeasures>
          <abbreviateLabel>true</abbreviateLabel>
          <singleLine>true</singleLine>
          <align>left</align><!-- left, center, or right -->
        </MapScaleBar>
        <CursorTrack id="cursorTrack">
          <mouseHandler>mainMap</mouseHandler>

          <showLatLong>true</showLatLong>
          <precision>3</precision>
        </CursorTrack>
       <PanZoomBar id="panZoomBar">
     <scriptFile>customlib/widget/PanZoomBar.js</scriptFile>
     </PanZoomBar>
        <GetFeatureInfoPZ id="getFeatureInfo">
    <scriptFile>customlib/widget/GetFeatureInfoPZ.js</scriptFile>
          <selected>true</selected>
      <buttonBar>mainButtonBar</buttonBar>
      <targetModel>featureInfoResponse</targetModel>
      <targetContext>mainMap</targetContext>
      <class>RadioButton</class>
      <enabledSrc>/images/QueryEnable.png</enabledSrc>
      <disabledSrc>/images/QueryDisable.png</disabledSrc>
    </GetFeatureInfoPZ>
      </widgets>
      <tools>
            <History id="extentHistory"/>
        <WebServiceRequest id="featureInfoController">
          <targetModel>featureInfoResponse</targetModel>
          <requestName>wms:GetFeatureInfo</requestName>
          <infoFormat>application/vnd.ogc.gml</infoFormat>
          <featureCount>1</featureCount>
        </WebServiceRequest>
        </tools>
        <nodeSelectXpath>/wmc:ViewContext/wmc:LayerList/wmc:Layer</nodeSelectXpath>
    </OwsContext>
    <OwsContext id="locator">
      <defaultModelUrl>data/contextLocator.xml</defaultModelUrl>
      <widgets>
        <MapPaneOL id="locatorWidget">
          <htmlTagId>locatorMap</htmlTagId>
        </MapPaneOL>
        <AoiBoxOL id="aoiBoxLocator">
          <htmlTagId>locatorMap</htmlTagId>
          <stylesheet>../lib/widget/GmlRenderer.xsl</stylesheet>
          <lineColor>red</lineColor>
          <lineWidth>2</lineWidth>
          <crossSize>15</crossSize>
          <mapContainerId>locatorContainer</mapContainerId>
        </AoiBoxOL>
      </widgets>
      <tools>
        <ZoomToAoi id="locatorZoomToAoi">
          <targetModel>mainMap</targetModel>
        </ZoomToAoi>
      </tools>
    </OwsContext>
    
     <WmsCapabilities id="wmsCapTemplate">
      <title>OGC Web Map Server (WMS)</title>
      <models>
       
      </models>
      <widgets>
        <SelectMapLayers id="layerList">
          <scriptFile>customlib/widget/SelectMapLayers.js</scriptFile>
          <stylesheet>customlib/widget/SelectMapLayers.xsl</stylesheet>
          <htmlTagId>workspace</htmlTagId>
          <outputNodeId>workspaceCanvas</outputNodeId>
        </SelectMapLayers>
      </widgets>
      <tools>
        <WebServiceRequest id="wmsController">
          <targetModel>featureInfoResponse</targetModel>
          <requestName>wms:GetFeatureInfo</requestName>
        </WebServiceRequest>
        <EditContext id="editContext">
  
          <targetModel>mainMap</targetModel>
        </EditContext>
      </tools>
      <nodeSelectXpath>//Layer</nodeSelectXpath>
    </WmsCapabilities>
     <Model id="featureInfoResponse" template="true">
          <widgets>
            <FeatureInfo id="features">
              <stylesheet>customlib/widget/FeatureInfo.xsl</stylesheet>
              <htmlTagId>featurePopup</htmlTagId>
              <outputNodeId>featurePopup</outputNodeId>
            </FeatureInfo>
          
          </widgets>
          <namespace>xmlns:gml='http://www.opengis.net/gml' xmlns:wfs='http://www.opengis.net/wfs' xmlns:topp='http://www.openplans.org/topp'</namespace>
        </Model>
     <FeatureCollection id="featureCollection2">
      <widgets>
        <ShowDistance id='showDistance'>
          
        </ShowDistance>
      </widgets>
      <namespace>xmlns:gml='http://www.opengis.net/gml' xmlns:wfs='http://www.opengis.net/wfs' xmlns:topp='http://www.openplans.org/topp'</namespace>
    </FeatureCollection>
<!--    <Model id="featureInfoResponse" template="true">-->
<!--      <widgets>-->
<!--        <FeatureInfo id="features">-->
<!--          -->
<!--          <targetModel>mainMap</targetModel>-->
<!--                   -->
<!--          <width>275</width>-->
<!--          <height>137</height>-->
<!--          <opacity>0.8</opacity>-->
<!--          <backgroundColor>#D0D0D0</backgroundColor>-->
<!--          <border>1px solid black</border>-->
<!--        </FeatureInfo>-->
<!--      </widgets>-->
<!--    </Model>-->
    <OlsRespons id="olsRespons">
    <scriptFile>customlib/model/OlsRespons.js</scriptFile>
      <namespace>xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:xls='http://www.opengis.net/xls' xmlns:gml='http://www.opengis.net/gml'</namespace>
      <widgets>
        <OpenLSResponse id="olsResponsView">
           <stylesheet>customlib/widget/OpenLSResponse.xsl</stylesheet>       	
          <htmlTagId>olsResponsView</htmlTagId>
          <targetModel>mainMap</targetModel>
          <puntModel>olsPunten</puntModel>
          <featureXpath>/gml:featureMember/points/_SHAPE_/gml:MultiPoint/gml:pointMember/gml:Point/gml:coordinates</featureXpath>
          <defaultModelUrl>data/punten.xml</defaultModelUrl>
        </OpenLSResponse>
      </widgets>
    </OlsRespons>
  </models>

  <widgets>
    <Back id="back">
      <buttonBar>mainButtonBar</buttonBar>
      <targetModel>mainMap</targetModel>
      <class>Button</class>
      <disabledSrc>/images/UndoDisable.png</disabledSrc>
    </Back>
    <Forward id="forward">
      <buttonBar>mainButtonBar</buttonBar>
      <targetModel>mainMap</targetModel>
      <class>Button</class>
      <disabledSrc>/images/RedoDisable.png</disabledSrc>
    </Forward>
  
    <Reset id="reset">
      <buttonBar>mainButtonBar</buttonBar>
      <targetModel>mainMap</targetModel>
      <class>Button</class>
      <disabledSrc>/images/ResetExtentDisable.png</disabledSrc>
    </Reset>
<!--            <PanZoomBar id="panZoomBar">-->
<!--      <enabledSrc>/images/MeasureEnable.png</enabledSrc>           -->
<!--      <buttonBar>mainButtonBar</buttonBar>-->
<!--      <targetModel>mainMap</targetModel>-->
<!--      <class>RadioButton</class>-->
<!--      <disabledSrc>/images/ResetExtentDisable.png</disabledSrc>-->
<!--        </PanZoomBar> -->
    <OpenLSForm id="openLSForm">
      <scriptFile>customlib/widget/OpenLSForm.js</scriptFile>
      <stylesheet>customlib/widget/OpenLSForm.xsl</stylesheet>
      <geocodeServerUrl>http://geoserver.nl/geocoder/NLaddressLL.aspx</geocodeServerUrl>
      <defaultModelUrl>data/punten.xml</defaultModelUrl>
      <targetModel>olsRespons</targetModel>
      <puntModel>olsPunten</puntModel>
    </OpenLSForm>
   
    <Measurement id="measurement">
      <buttonBar>mainButtonBar</buttonBar>
      <targetModel>featureCollection2</targetModel>
      <targetContext>mainMap</targetContext>
      <class>RadioButton</class>
      <enabledSrc>/images/MeasureEnable.png</enabledSrc>
      <disabledSrc>/images/MeasureDisable.png</disabledSrc>
      <featureXpath>/gml:featureMember/topp:bc_roads/topp:the_geom/gml:MultiLineString/gml:lineStringMember/gml:LineString/gml:coordinates</featureXpath>
      <defaultModelUrl>data/measurement.xml</defaultModelUrl>
    </Measurement>
  </widgets>
  <proxyUrl>server/php/proxy.php</proxyUrl>
  <skinDir>customlib/skin/tango</skinDir>
  <widgetTextUrl>widgetText.xml</widgetTextUrl>
  <!-- relative to the skin dir -->
</MapbuilderConfig>
