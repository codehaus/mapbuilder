<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>MapBuilder Web Services Explorer</title>
    <link rel='StyleSheet' type='text/css' href='../../lib/skin/default/docsStyle.css'>
    <link rel='StyleSheet' type='text/css' href='../../lib/skin/default/mapStyle.css'>
    <link rel='StyleSheet' type='text/css' href='../../lib/skin/default/button.css'>
    <style type="text/css">
      #workspace {
        overflow: auto;
        position: relative;
        border: 0;
      }
    </style>
    <script>
      // URL of Mapbuilder configuration file.
      var mbConfigUrl='config.xml';
      
      function mbOnload() {
        config.objects.mainMap.addListener("loadModel",initWorkspace,null);
        window.onresize = initWorkspace;
      }
      
      function initWorkspace() {
        var pageBody = document.getElementsByTagName("body")[0];
        var workDiv = document.getElementById("workspace");
        var footerDiv = document.getElementById("mbFooter");
        if (_SARISSA_IS_IE) {
          workDiv.style.height = pageBody.offsetHeight - workDiv.offsetTop - footerDiv.offsetHeight - 30;  //20 is a fudge factor
        } else {
          workDiv.style.height = window.innerHeight - workDiv.offsetTop - footerDiv.offsetHeight - 20;  //20 is a fudge factor
        }
      }
    </script>
    <script type="text/javascript" src="../../lib/Mapbuilder.js"></script>
  </head>
  <body onload="mbDoLoad(mbOnload)">
    <table style="width:800">
      <tr>
        <td colspan="2">
          <h1><a href="http://mapbuilder.sourceforge.net">MapBuilder</a> Web Services Explorer</h1>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <p>This demo will show all layers available from a particular WMS and WFS instance (the default is a 
          localhost GeoServer install) and allows adding layers and feature types to a base map.
          To change the service instance, enter a GetCapabilities URL in the "Set WMS URL" or "Set WFS URL" input box.
          </p>
        </td>
      </tr>
      <tr>
        <td valign="top" style="padding:8px; width:200">
          <div>
            <div id="locatorMap"/>
          </div>
          <div id="mapList"></div>
          <hr/>
          <a href="javascript:config.objects.wmsCapTemplate.setParam('refresh', 'layerList')">
          WMS Layers</a><br/>
          <a href="javascript:config.objects.wfsCapTemplate.setParam('refresh', 'featureTypes')">
          WFS Feature Types</a><br/>
          <a href="javascript:config.objects.mainMap.setParam('refresh', 'contextLegend')">
          Map layer control</a><br/>
          <a href="javascript:config.objects.wmsCapTemplate.setParam('refresh', 'wmsUrlInput')">
          Set WMS URL</a><br/>
          <a href="javascript:config.objects.wfsCapTemplate.setParam('refresh', 'wfsUrlInput')">
          Set WFS URL</a><br/>
        </td>
        <td style="width:600">
          <table width="100%">
            <tr>
              <td align="center">
                <table>
                  <tr>
                    <td colspan="2">
                      <div id="mainMapPane"/>
                    </td>
                  </tr>
                  <tr>
                    <td align="left">
                      <div id="mainButtonBar"/>
                    </td>
                    <td align="right" id="cursorTrack" />
                  </tr>
                </table>
              </td>
            </tr>
            <tr>
              <td align="left">
                <div id="workspace"></div>
              </td>
            </tr>
          </table>
         </td>
      </tr>

      <tr>
        <td colspan="3" class="footer">
          <p align="right">
          powered by <a href="http://mapbuilder.sourceforge.net">Community Map Builder</a><br/>
          member project of <a href="https://www.osgeo.org/">OSGeo</a>
          </p>
        </td>
      </tr>

    </table>
    

  </body>
</html>
