<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD Simplified DocBook XML V1.0//EN"
"http://www.oasis-open.org/docbook/xml/simple/1.0/sdocbook.dtd">
<article>
  <title>Community Mapbuilder State Of Play - March 2006</title>

  <abstract>
    <para>This document aims to summarise the Mapbuilder project and it's
    relationship with projects around it, identify upcoming features and
    opportunities, and suggest where to focus future efforts to maximise our
    contribution to Open Source Geospatial projects.</para>

    <para>Recently, we have seen a significant increase in software developers
    downloading and extending Mapbuilder code. To maximise the potential of
    Mapbuilder for developers, users and sponsors, the focus of core
    developers should move from development to supporting and mentoring new
    developers. Similarly, sponsors should assign part of their funds to
    Mapbuilder mentors. Sponsor one mentor and you get five developers for
    free.</para>
  </abstract>

  <section>
    <title>What is Mapbuilder?</title>

    <para>Mapbuilder is a modern, web based geographic mapping client. It's
    modular design has made it easy for developers to build an every
    increasing library of widgets and tools to plug into Mapbuilder. In
    particular, Mapbuilder stands out from other Webmapping clients because it
    allows users to draw vector features on a map then load the feature into a
    Transactional Web Feature Service.</para>

    <para>Mapbuilder is built upon OGC standards and hence is interoperable
    with many other Geospatial applications.</para>

    <para>Mapbuilder has grown a strong, diverse and active developer
    community and as Mapbuilder reaches it's 1.0 release it is being
    recognised as a quality product. Mapbuilder is bundled with Geoserver, an
    Open Source Web Map Service (WMS) and Transactional Web Feature Service
    (WFS), and Mapbuilder was selected as one of the founding projects for
    OSGeo, the Open Source Geospacial Foundation.</para>
  </section>

  <section>
    <title>What big ticket items are coming next?</title>

    <section>
      <title>Geographic wiki</title>

      <para>Web Mapping to date has focused on Publishing mapping data.
      Feature entry functionality is being added to Mapbuilder which will
      allow users to create, edit, then upload geographic features.</para>
    </section>

    <section>
      <title>Integrated Suite of Open Source Mapping products</title>

      <para>There is a full range of high quality open source geospatial
      software which interacts which each other using Open Standards - however
      the installation and configuration of these products is still
      disjointed. Over the next few years, these projects are likely to
      integrate more closely providing easy to install and configure
      solutions.</para>

      <para>In particular, Mapbuilder is currently bundled with Geoserver, an
      open source WFS/WMS, and there is an opportunity for Mapbuilder to be
      bundled with Udig to provide a heavy/light client solution.</para>
    </section>

    <section>
      <title>Roll your own Webmapping Client</title>

      <para>Imagine a web page which looked like a drawing program like Visio.
      On the left is a list of widgets which can be dragged onto a Pane on the
      right. After the user has selected and placed their widgets, the use can
      assign attributes like Map Layers.</para>

      <para><ulink
      url="http://www.netvibes.com/">http://www.netvibes.com/</ulink> uses a
      similar concept which made it very popular.</para>
    </section>

    <section>
      <title>Lots of extra widgets and features</title>

      <para>Google and Yahoo Map layers, fast vector rendering of features (eg
      using SVG), tiled maps, and much more.</para>
    </section>

    <section>
      <title>AJAX drawing tool</title>

      <para>Mapbuilder has developed effective drawing functionality which
      would be useful for a wide range of applications. This should be
      factored out into a seperate library so that it can be used by other
      applications.</para>
    </section>
  </section>

  <section>
    <title>Managing growth</title>

    <figure>
      <title></title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="emailsFeb06.gif" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>Over the last year Mapbuilder has had a steady increase in interest
    from developers and users. Traffic on our email lists has increased by a
    factor of five over the last year. Increasingly we are seeing questions
    from paid portal developers who extend Mapbuilder, then move on. Since
    most core developers work on Mapbuilder in their spare time the core
    developers are having problems supporting users and incorporating the
    user's code.</para>

    <para>Almost all Mapbuilder queries are from developers, which is an
    indication that Mapbuilder documentation and installation procedures are
    too difficult for average internet users.</para>

    <para>Mapbuilder's user documentation is still poor which is part of the
    reason for the large number of user queries. Improving documentation will
    empower users to answer their own queries, and will increase Mapbuilder's
    user base because more people will be able to use it.</para>
  </section>

  <section>
    <title>Funding</title>

    <para>Mapbuilder has grown to privledged position where we are starting to
    have access to more developers than the core team can support. To accept
    developer contributions, we need to provide guidance, answer technical
    questions, review code and incorporate additions into the code base. Part
    of the support can be provided by writing good supporting
    documentation.</para>

    <para>If you are considering using or extending Mapbuilder, sponsoring a
    Mapbuilder mentor will probably make sense for you. <emphasis
    role="bold">Sponsor one mentor and get five developers for
    free.</emphasis> For a company who wants to extend Mapbuilder, I suggest
    you hire a developer to implement your desired features and a mentor for
    1/5 of your developer's time. This will ensure your code is reviewed and
    incorporated into the Mapbuilder codebase and available in future
    Mapbuilder releases. If your desired functionality is a popular request,
    you may wish to invest more in the Mapbuilder mentor which in turn will
    empower other Mapbuilder developers to help implement features on your
    behalf.</para>
  </section>

  <section>
    <title>Integrating with projects around us</title>

    <para>The commercial world regularly tries to out do and compete against
    similar projects, but in Open Source we can do much better by embrasing
    and working with other projects.</para>

    <section>
      <title>Web mapping clients</title>

      <para>There are a number of web mapping clients doing similar things to
      Mapbuilder or with features that Mapbuilder would like to copy. The
      projects all contain tallented software developers and we would all do
      better if we could share our workload and focus on one great product
      instead of lots of good products.</para>

      <para>Unfortunately it is difficult to merge two code bases together and
      no one wants to give up a project they have spent lots of time on to go
      and work on someone else's code.</para>

      <para>So what I propose is that we work toward a long term goal of
      merging our projects. We start by gradually factoring out common
      libraries that we work on together, and whenever we make future design
      decisions, we run the idea past other projects and see if we reuse code
      or interfaces which will ease merging some time in the future.</para>
    </section>

    <section>
      <title>OpenStreetMap and other Geowikis</title>

      <para><ulink
      url="http://www.openstreetmap.org/ ">http://www.openstreetmap.org/</ulink>
      is a project which allows users to upload tracks from GPS devices (like
      handheld computers or phones) into a geographic database, then provides
      a java applet to edit those same features. They have addresses some of
      the hard issues, like version control on features at the expense of
      breaking away from Open Standards. And they are already collecting data
      from users.</para>

      <para>This is a project that would be great to work with. They have a
      great vision, and some good ideas. We could add value to them by
      providing our AJAX based web mapping client - they have a Java applet.
      Java applets are a stumbling block for many non-technical users because
      it requires them to download and install extra software into their
      browser. We could help them migrate toward a standards based solution,
      which would enable them to tap into other powerful mapping applications
      (like UDig).</para>

      <para>There has been talk on Wikipedia about setting up a geographic
      wiki. Mapbuilder could be the tool used for a Wikipedia for geographic
      maps.</para>
    </section>

    <section>
      <title>Basemap providors</title>

      <para>There has been an explosion of quality free basemaps on the
      internet from companies like Google, Yahoo, and MSN. These companies
      also provide viewers which could be seen as competitors to Mapbuilder.
      These companies could be seen as potential sponsors for the Mapbuilder
      project as their code value is in their maps, not the mapping
      client.</para>
    </section>

    <section>
      <title>AJAX Engines</title>

      <para>Mapbuilder has built it's own AJAX software - (software which
      handles asyncronous loading, events, javascript inheritance etc). It is
      powerful, and it works, however some of the code is not very elegant,
      and because we were experiementing as we wrote it, we have instances
      where concepts like inheritance are implemented in two different ways.
      This makes the code harder to understand and more prone to bugs.</para>

      <para>Since we wrote Mapbuilder, there have been a number of quality
      AJAX Engines written. It would be wise of Mapbuilder to replace our
      engine with one of the dedicated engines. The advantages would be: more
      reliable code, maintainance would be spread across a larger user base
      and we can tap into the expertise of the developers on these
      projects.</para>
    </section>

    <section>
      <title>UDig</title>

      <para><ulink
      url="http://udig.refractions.net/confluence/display/UDIG/Home">UDig</ulink>
      is a powerful GIS desktop application. It would be very useful for users
      to bundle Mapbuilder with UDig to provide a light/heavy client
      option.</para>
    </section>

    <section>
      <title>Open Web Services Testbed (OWS4)</title>

      <para>The OWS4 testbed sponsorted by the Open Geospatial Consortium
      would be an excellent opportunity to show case Mapbuilder and UDig
      integration.</para>
    </section>

    <section>
      <title>Geoserver</title>

      <para>Geoserver is a Java based Transactional Web Feature Service
      (WFS-T) and Web Map Service. Mapbuilder is currently bundled with
      Geoserver which probably explains why a number of our quality developers
      have been attracted to Mapbuilder.</para>

      <para>We need to ensure that Mapbuilder continues to be bundled with
      Geoserver and ensure that Geoserver ships with the latest version of
      Mapbuilder.</para>
    </section>
  </section>

  <section>
    <title>Weaknesses</title>

    <para>Documentation</para>

    <para>Testing</para>

    <para>Core</para>

    <para>Managing new developers</para>

    <para>Funding. We need a constant income to support Project Management.
    Most of our users are project based, and hence are not steady incomes.
    They are focused on short term goals.</para>

    <para>Visibility - Need to present at conferences, get involved with other
    OS GIS projects</para>
  </section>

  <section>
    <title>State Of Play June 2005</title>

    <section>
      <title>Where have we come from?</title>

      <para>The Community Mapbuilder website started in 2001 as my idea to
      build a Geo-Wiki and was originally planned to bring together WMS/WFS-T
      components into one easy to configure application. The only thing
      missing was a WFS-T client and I started working on the developing
      Geotools library to create a Java client.</para>

      <para>In 2003 Raj Singh demonstrated the potential of a web based client
      by producing the first prototype web based feature entry client which
      talked directly to a database. From then we started mapbuilder-lib,
      initially a WMS client, then a WFS-T client which conformed to OGC
      standards.</para>

      <para>As we developed further, we joined efforts with Nedjo Rodgers,
      Mike Adair, Tom Kralidis and Tom Schuller who were all working on
      similar projects. Mapbuider-lib broadened it's scope from being a
      geo-wiki to being a robust client to OGC services.</para>

      <para>In mid 2005, Geoserver, an open source WFS-T included
      mapbuilder-lib in it's distribution and Mapbuilder started gaining more
      interest and attracted more developers.</para>
    </section>

    <section>
      <title>What are Mapbuilder's Strengths?</title>

      <variablelist>
        <varlistentry>
          <term>WMS/WFS-T in a browser</term>

          <listitem>
            <para>Mapbuilder runs in a standard web browser without requiring
            any plug ins. This makes Mapbuilder easy to use for non-technical
            users.</para>

            <para>Clients are fast and feature rich because most code is
            stored in the client, accessing Web Services using Asynchronous
            Javascript And XML (AJAX).</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Modular design</term>

          <listitem>
            <para>Mapbuilder's modular design makes it easy to add extra
            functionality.</para>

            <para>Tailored clients are kept small by only including the
            required modules.</para>

            <para>We have the opportunity to factor out core modules (like our
            projection libraries) to be used and improved by other
            projects.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Standards compliant</term>

          <listitem>
            <para>Standards compliance means that Mapbuilder can build upon
            the great work done in the Open GIS services projects.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Strong user community</term>

          <listitem>
            <para></para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>

    <section>
      <title>What software industry developments effect us?</title>

      <para>The advantage of working with Open Source software is that we
      don't need to look at competing projects as threats, they are potential
      partners. Together we can help each other become better.</para>

      <section>
        <title>Asynchronous Javascript And XML (AJAX)</title>

        <para>AJAX describes a way for web browsers to refresh themselves
        quickly using asynchronous javascript functions. This functionality
        has been available for a couple of years but has only recently become
        popular since it's use by high profile Google web sites.</para>

        <para>Recently, a hand full of AJAX library projects have started and
        have a strong user base behind them. These project are young and
        Mapbuilder still contains a significant amount of AJAX functionality
        beyond that provided by the libraries. In particular, Mapbuilder's
        Model/View/Controller design pattern and dynamic loading of widgets
        would be a useful addition to the AJAX libraries.</para>

        <para>The Mapbuilder project should consider factoring out it's AJAX
        libraries and merging them into one of the existing AJAX library
        projects.</para>
      </section>

      <section>
        <title>Other Web Based Geographic Clients</title>

        <para>Mapbuilder currently has a number of features not yet provided
        by other Web Mapping Clients, however, there are some features from
        other projects that would be nice to include. Where possible, we
        should try to collaborate with these projects and merge our efforts.
        We can do this by factoring out and sharing common libraries or
        merging our efforts into one project.</para>
      </section>

      <section>
        <title>Geoserver</title>

        <para>Geoserver, the Open Source WMS/WFS has incorporated Mapbuilder
        into it's release. This is a good relationship for us because:</para>

        <itemizedlist>
          <listitem>
            <para>We are getting exposure with our core potential user
            base.</para>
          </listitem>

          <listitem>
            <para>We are seeing developers join Mapbuilder from the Geoserver
            project.</para>
          </listitem>
        </itemizedlist>

        <para>Gabriel Roland pointed out that we can make cross development
        easier by using similar tools. In particular, we should consider
        moving some functionality from Sourceforge to <ulink
        url="http://www.codehaus.org/">http://www.codehaus.org/</ulink>.</para>
      </section>

      <section>
        <title>Geographic Wiki</title>

        <para>Significant interest is developing for a Geographic Wiki, where
        many people can collaboratively build geographic maps. Mapbuilder
        would be an ideal client for a Geographic Wiki and we should aim be
        involved in any such project.</para>

        <para>This will introduce a many new challenges, like handling user
        authentication.</para>
      </section>

      <section>
        <title>Content Management Systems (CMS)</title>

        <para>Content Management Systems are one of the big potential users of
        Map Viewers and Feature Entry Clients. Unfortunately there are
        hundreds of CMS products and there doesn't seem to be a standard
        interface.</para>

        <para>Java CMS seem to be a better position with standard portlet
        specifications and we may be able to target these first.</para>

        <para>Nedjo Rodgers notes that Mapbuilder contains many components
        needed by CMSs and that different CMSs will all face similar problems.
        We should encourage the development of a CMS integration
        toolkit.</para>
      </section>

      <section>
        <title>Browser support for SVG</title>

        <para>It seems that version 7 browsers will provide SVG support by
        default. This means that we can make use of SVG's more powerful
        rendering and we can expect average users will still be able to use
        our web pages.</para>
      </section>

      <section>
        <title>Use stable release numbers</title>

        <para>Mike Adair notes that potential users are scared by our "alpha"
        version numbers. We should create a 1.0 release and advertise the
        existence of applications using Mapbuilder.</para>
      </section>
    </section>

    <section>
      <title>Opportunities for improvement</title>

      <section>
        <title>Testing</title>

        <para>With only two core developers, and while software was still in
        alpha state we were able to get away without automated testing.
        However we are now at a stage where we should consider automated
        testing frameworks like jsunit.</para>

        <para>Advantages of automated testing includes:</para>

        <itemizedlist>
          <listitem>
            <para>We can easily test Mapbuilder against new browsers and
            platforms as they become available.</para>
          </listitem>

          <listitem>
            <para>We can test our updates don't break another part of the
            code. This is more important as the software becomes more complex
            and there are more developers working on sections we are not
            familiar with.</para>
          </listitem>

          <listitem>
            <para>Software can be released more frequently because the head
            version of the software should always be working.</para>
          </listitem>

          <listitem>
            <para>Our releases should become more robust.</para>
          </listitem>
        </itemizedlist>
      </section>

      <section>
        <title>Design Patterns</title>

        <para>There are a number of areas in Mapbuilder which could be
        improved by the introduction of design patterns. Good use of design
        patterns will simplify the code and make it easier to maintain. We
        should review then refactor our code for this.</para>
      </section>

      <section>
        <title>Memory Leaks</title>

        <para>Memory leaks in a browser can cause a browser to crash or
        significantly slow a computer down. We were not considering Memory
        Leaks when writing the code, so they probably exist. We should be able
        to minimise Memory Leaks if we use an AJAX library which addresses
        leaks.</para>
      </section>

      <section>
        <title>Documentation</title>

        <para>While we have made a start our documentation needs to be
        updated. Good documentation is essential for attracting and keeping
        potential developers.</para>

        <para>Nedjo Rodgers and others noted that we need concrete guides for
        developers. For example, A guide for creating widgets. This should be
        combined with mentoring from core developers.</para>

        <para>Chris Holmes noted that it is easier to build documentation in a
        wiki as it is continuously updated by users. In particular we should
        consider using Codehaus.</para>
      </section>

      <section>
        <title>Professional Look and Feel</title>

        <para>Feedback I've been getting often includes "The technology is
        great, but we need a sexy interface to sell Mapbuilder to decision
        makers". We need to provide a sexy interface to Mapbuilder and we need
        to ensure we have a stable demonstration release.</para>
      </section>
    </section>

    <section>
      <title>Recommendations</title>

      <variablelist>
        <varlistentry>
          <term>AJAX</term>

          <listitem>
            <para>Contact AJAX library projects, suggest working toward a
            common AJAX library then coordinate exporting Mapbuilder
            functionality into one of these projects.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Projection Libraries</term>

          <listitem>
            <para>Export the projection libraries into a separate project so
            it can be used by other projects.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Review design</term>

          <listitem>
            <para>Review the design, introduce design patterns, refactor
            code.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Update documentation</term>

          <listitem>
            <para>In particular, concrete examples of how developers should do
            specific tasks (like creating a widget).</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Produce a Professional Look and Feel</term>

          <listitem>
            <para></para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Codehaus</term>

          <listitem>
            <para>We should ask if we can get Mapbuilder hosted on
            http://www.codehaus.org. It provides subversion, better bug
            tracking, a wiki for documentation, and is used by Geoserver and
            Geotools, projects which we aim to align ourselves with.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>SVG</term>

          <listitem>
            <para>We should encourage developers who may be interested in
            adding SVG support.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>CMS</term>

          <listitem>
            <para>We should encourage the development of a CMS integration
            HOWTO and collaboration from people integrating Mapbuilder into
            different CMSs.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Create a 1.0 release</term>

          <listitem>
            <para>We should create a 1.0 release and advertise the existence
            of applications using Mapbuilder.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
  </section>
</article>